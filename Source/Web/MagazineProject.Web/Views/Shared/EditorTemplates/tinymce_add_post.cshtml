@using System.Security.Policy
@model string
@* TINYMCE *@
<script src="@Url.Content("~/Scripts/tinymce/tinymce.js")" type="text/javascript"></script>
<script type="text/javascript">
    tinymce.init({
        selector: "textarea",
        theme: "modern",
        plugins: [
            "advlist autolink lists image link charmap print preview hr pagebreak",
            "searchreplace wordcount visualblocks visualchars ",
            "insertdatetime nonbreaking save contextmenu directionality",
            "emoticons template paste textcolor colorpicker textpattern",
            "autoresize layer"
        ],
        toolbar1: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist outdent indent | link image",
        toolbar2: "forecolor emoticons",
        image_advtab: false,
        templates: [
            { title: 'Test template 1', content: 'Test 1' },
            { title: 'Test template 2', content: 'Test 2' }
        ],
        save_onsavecallback: 'onSavePluginCallback',
    });

    function onSavePluginCallback(ed) {
        var form = $(ed.formElement);
        var isValid = form.valid();
        if (isValid) {
            form.submit();
        }
    }
</script>


@if (ViewContext.RouteData.Values["controller"].ToString() == MagazineProject.Common.GlobalConstants.CommentsController)
{
    <br />
    <div class="row">
        <div class="col-md-12">
            @Html.TextArea(string.Empty, /* Name suffix */
            ViewData.TemplateInfo.FormattedModelValue /* Initial value */)
        </div>
    </div>
}
else
{
    <div class="row">
        <div class="col-md-2">
            @Html.LabelFor(m => m, new { @class = "text-primary" })
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-md-12">
            @Html.TextArea(string.Empty, /* Name suffix */
            ViewData.TemplateInfo.FormattedModelValue /* Initial value */)
        </div>
    </div>
    <br />

}


